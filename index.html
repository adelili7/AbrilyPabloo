<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nuestra Boda — Abril & Pablo</title>

<!-- Fuentes románticas -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

<!-- particles.js (CDN) -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

<style>
:root{
  --azul-princesa:#1E3A8A;
  --celeste:#a3c1e5;
  --plateado:#cfd8e3;
  --gold:#d4af37;
  --text:#122;
}
html,body{height:100%;margin:0;font-family:'Playfair Display',serif;background:linear-gradient(180deg,#e8f4ff 0%, #fbfdff 100%);color:var(--text);-webkit-font-smoothing:antialiased;}
body{background-image:url('fondo_floral.jpg');background-size:cover;background-position:center;background-attachment:fixed;}

/* particles full-screen */
#particles-js{position:fixed;inset:0;z-index:6;pointer-events:none}

/* Center CTA area */
.center-screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:14px;z-index:30;pointer-events:auto}
.hint{font-family:'Playfair Display';color:rgba(10,20,40,0.95);font-size:0.98rem;text-align:center}

/* ring container */
.ring-wrap{position:relative;width:240px;height:240px;display:flex;align-items:center;justify-content:center}

/* ring 3D */
.ring{width:220px;height:220px;border-radius:50%;position:relative;transform-style:preserve-3d;animation:ring-spin 6s linear infinite;cursor:pointer;outline:none}
@keyframes ring-spin{0%{transform:rotateX(0deg) rotateY(0deg)}100%{transform:rotateX(360deg) rotateY(360deg)}}

/* metallic band */
.ring .band{
  position:absolute;inset:18px;border-radius:50%;
  background:linear-gradient(135deg,#f4fbff 0%, #dfeefc 40%, #e9eef6 100%);
  border:6px solid rgba(255,255,255,0.9);
  box-shadow:0 12px 40px rgba(8,30,60,0.18), inset 0 -8px 18px rgba(0,0,0,0.06);
}

/* gem */
.ring .gem{
  position:absolute;top:8%;left:50%;transform:translateX(-50%);
  width:92px;height:92px;border-radius:18px;
  background:radial-gradient(circle at 30% 20%, #fff 0%, #def6ff 12%, #7fbdf3 48%, #2f7ccc 100%);
  border:4px solid rgba(255,255,255,0.85);
  box-shadow:0 10px 40px rgba(47,124,204,0.36), 0 0 28px rgba(99,150,220,0.45);
  transform-origin:center;
  z-index:5;
}

/* orbiting small particles (JS will animate via transform rotate) */
.orbit {position:absolute;width:260px;height:260px;left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:2}
.orbit .orb{
  position:absolute;width:8px;height:8px;border-radius:50%;
  background:radial-gradient(circle,#fff,#cfe9ff 40%,rgba(99,150,220,0)70%);
  box-shadow:0 0 8px rgba(255,255,255,0.9);
  opacity:0.95;
}

/* sparkles static flicker */
.sparkle{position:absolute;width:10px;height:10px;border-radius:50%;background:radial-gradient(circle,#fff,#dff4ff 30%,rgba(163,193,229,0)70%);filter:drop-shadow(0 0 6px rgba(255,255,255,0.9));opacity:0.95;}

/* slow pulsing glow on gem */
@keyframes gem-pulse {0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}
.ring .gem { animation: gem-pulse 3.2s ease-in-out infinite; }

/* after click: ring stopped */
.ring.stopped{animation-play-state:paused;transform:scale(1.02) rotateX(0deg);transition:transform .45s ease-out;}

/* envelope card (hidden initially) */
.envelope-wrap{position:fixed;top:calc(50% + 10px);left:50%;transform:translate(-50%,-50%);width:520px;max-width:90%;z-index:28;display:none;pointer-events:auto}
.envelope{position:relative;background:linear-gradient(180deg,#f7efe3,#f5e9da);border-radius:10px;padding:24px;border:4px solid #e0c48a;box-shadow:0 18px 60px rgba(2,20,60,0.18);overflow:hidden;transform-origin:center;transition:transform .6s ease}
.envelope .front{display:flex;align-items:center;justify-content:center;flex-direction:column}
.envelope .title{font-family:'Great Vibes';font-size:34px;color:var(--azul-princesa);margin-bottom:6px}
.envelope .date{font-family:'Playfair Display';color:#345;font-size:16px}
.seal{position:absolute;right:18px;bottom:-18px;width:86px;height:86px;border-radius:50%;background:radial-gradient(circle,#ffd 0%, #f0c86a 35%, #e0a600 100%);border:4px solid rgba(255,255,255,0.7);box-shadow:0 8px 26px rgba(224,164,28,0.26);display:flex;align-items:center;justify-content:center;cursor:pointer;transform-origin:center;z-index:12}

/* seal icon */
.seal .icon{font-size:28px;color:#6a3a00}

/* envelope open animation (flip and reveal) */
.envelope.open{transform:translateY(-30px) rotateX(12deg) scale(0.98);}

/* pergamino (hidden then displayed) */
.pergamino{display:none;max-width:820px;margin:18px auto;padding:28px;background:linear-gradient(180deg,#fffaf0,#fff4dc);border:4px solid #d4af37;border-radius:12px;box-shadow:0 16px 60px rgba(0,0,0,0.15);z-index:26}
.pergamino .title{font-family:'Great Vibes';font-size:44px;color:var(--azul-princesa);text-align:center;margin:0}
.pergamino .subtitle{font-family:'Playfair Display';text-align:center;color:#234;margin-top:8px}

/* main invitation container */
main.container{max-width:1100px;margin:120px auto;padding:26px;background:linear-gradient(180deg,rgba(255,255,255,0.96),#ffffff);border-radius:16px;box-shadow:0 18px 60px rgba(5,30,60,0.12);z-index:12;display:none}

/* reuse many styles from previous template */
.hero{display:flex;gap:28px;align-items:center;justify-content:center;flex-wrap:wrap;margin-top:8px}
.hero img{width:320px;max-width:85%;border-radius:12px;box-shadow:0 14px 40px rgba(10,30,60,0.18);border:6px solid rgba(255,255,255,0.85)}
.hero .names{text-align:center}
.hero h2{font-family:'Great Vibes',cursive;font-size:40px;color:var(--azul-princesa);margin:6px 0}
.verse{margin:18px auto;padding:16px;background:linear-gradient(90deg,#eaf4ff,#f8fbff);border-radius:12px;max-width:760px;color:var(--azul-princesa);font-size:20px;font-family:'Great Vibes',cursive;box-shadow:0 6px 24px rgba(16,52,100,0.06)}
.section{margin:26px 0;padding:18px;border-radius:12px;background:rgba(255,255,255,0.92);box-shadow:0 6px 20px rgba(2,20,60,0.04)}
.section h3{font-family:'Great Vibes';color:var(--azul-princesa);font-size:28px;margin:6px 0}
.icon-inline{width:28px;vertical-align:middle;margin-right:8px}
.map-wrap iframe{width:100%;height:380px;border-radius:12px;border:0}
.collage{display:grid;grid-template-columns:1fr 1fr;gap:12px;align-items:center}
.collage .big{grid-row:span 2}
.collage img{width:100%;border-radius:12px;object-fit:cover;box-shadow:0 8px 26px rgba(2,20,60,0.08)}
.song-form{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}
.song-form input[type=text]{padding:10px 12px;border-radius:10px;border:1px solid #cbd5e1;min-width:280px}
.song-list{margin-top:10px;text-align:left;max-width:700px;margin-left:auto;margin-right:auto;font-size:15px}
.upload-row{display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-top:12px}
.preview-grid img{width:100%;border-radius:8px;object-fit:cover;height:120px;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
.whatsapp-row{display:flex;gap:14px;justify-content:center;align-items:center;flex-wrap:wrap;margin-top:8px}
.wa-btn{background:#25D366;color:white;padding:12px 18px;border-radius:10px;text-decoration:none;font-weight:700}
.message-box textarea{width:86%;min-height:120px;padding:14px;border-radius:12px;border:1px solid #e2e8f0;font-size:15px}
@media (max-width:880px){.collage{grid-template-columns:1fr;grid-auto-rows:180px}.hero{flex-direction:column}.ring{width:180px;height:180px}}
</style>
</head>
<body>

<!-- Particles background -->
<div id="particles-js"></div>

<!-- Center area: ring + CTA -->
<div class="center-screen" id="ringPanel" aria-hidden="false">
  <div class="ring-wrap">
    <div class="ring" id="ring" role="button" tabindex="0" aria-label="Toca el anillo para abrir la invitación">
      <div class="band"></div>
      <div class="gem" id="gem"></div>
      <!-- Orbit container; JS will populate orbs -->
      <div class="orbit" id="orbit"></div>
      <!-- a few decorative sparkles -->
      <div class="sparkle" style="top:8%;left:20%"></div>
      <div class="sparkle" style="top:12%;left:78%"></div>
      <div class="sparkle" style="top:74%;left:16%"></div>
    </div>
  </div>

  <div class="hint">
    <div style="font-family:'Great Vibes';font-size:30px;color:var(--azul-princesa);">Nuestra Boda</div>
    <div style="font-family:'Playfair Display';color:#234;margin-top:4px">28 de diciembre 2025 • Tlaquiltenango</div>
    <div style="margin-top:8px;color:rgba(0,0,0,0.55)">Toca el anillo para comenzar ✨</div>
  </div>
</div>

<!-- Envelope (appears after ring click) -->
<div class="envelope-wrap" id="envelope" aria-hidden="true">
  <div class="envelope" id="envCard" role="region" aria-label="Sobre de invitación">
    <div class="front">
      <div class="title">Nuestra Boda</div>
      <div class="date">28 de diciembre 2025</div>
    </div>
    <div class="seal" id="seal" role="button" tabindex="0" aria-label="Toca el sello para abrir la carta">
      <div class="icon">❤</div>
    </div>
  </div>
</div>

<!-- Pergamino (revealed when envelope opens) -->
<div class="pergamino" id="pergamino" aria-hidden="true">
  <div class="title">Con Amor Eterno</div>
  <div class="subtitle">Abril Pérez Aguilar & Pablo Eliel Tinoco Hernández</div>
</div>

<!-- Main invitation (hidden until pergamino opened) -->
<main class="container" id="mainInvite" aria-hidden="true">
  <!-- Audio control -->
  <div style="text-align:center;margin-bottom:8px">
    <audio id="audioPlayer" preload="auto" src="eternamente.mp3"></audio>
    <button id="playBtn" class="boton" style="background:var(--celeste);border:none;border-radius:10px;padding:10px 16px;">▶️ Reproducir música</button>
  </div>

  <!-- Hero -->
  <section class="section hero" aria-labelledby="heroTitle">
    <img src="foto1.jpg" alt="Abril y Pablo" />
    <div class="names">
      <h2 id="heroTitle">Abril Pérez Aguilar<br><small style="font-size:18px;color:#87a1d4">y</small><br>Pablo Eliel Tinoco Hernández</h2>
      <p style="font-size:16px;color:#445">Te invitamos a celebrar nuestro amor</p>
    </div>
  </section>

  <!-- Padres -->
  <section class="section" aria-labelledby="parentsTitle">
    <h3 id="parentsTitle">Familias</h3>
    <p>Hija de: <strong>Eva Aguilar Rendón</strong> y <strong>Pedro Pérez Hernández</strong></p>
    <p>Hijo de: <strong>Saray Hernández Santana</strong> y <strong>Pablo Tinoco Carranza (finado)</strong></p>
  </section>

  <!-- Verse -->
  <section class="verse">"Y los dos serán una sola carne" — <strong>Mateo 19:6</strong></section>

  <!-- Ceremony -->
  <section class="section" aria-labelledby="ceremonyTitle">
    <h3 id="ceremonyTitle"><img class="icon-inline" src="https://img.icons8.com/ios-filled/50/000000/church.png" alt=""> Ceremonia Religiosa — 2:00 PM</h3>
    <p>Jardín "El Abuelo", Tlaquiltenango</p>
    <div class="map-wrap">
      <iframe src="https://www.bing.com/maps/embed?h=400&w=800&cp=18.627356~-99.163499&lvl=16&typ=d&sty=r&src=SHELL&FORM=MBEDV8" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Mapa Jardín El Abuelo"></iframe>
    </div>
  </section>

  <!-- Reception -->
  <section class="section" aria-labelledby="receptionTitle">
    <h3 id="receptionTitle"><img class="icon-inline" src="https://img.icons8.com/ios-filled/50/000000/party-parrot.png" alt=""> Recepción — 4:00 PM</h3>
    <p>Jardín "El Abuelo", Tlaquiltenango</p>
    <div class="map-wrap">
      <iframe src="https://www.bing.com/maps/embed?h=400&w=800&cp=18.627356~-99.163499&lvl=16&typ=d&sty=r&src=SHELL&FORM=MBEDV8" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Mapa Jardín El Abuelo"></iframe>
    </div>
  </section>

  <!-- Countdown -->
  <section class="section" aria-labelledby="countdownTitle">
    <h3 id="countdownTitle">Cuenta regresiva</h3>
    <div id="countdown" style="font-family:'Great Vibes',cursive;font-size:30px;color:var(--azul-princesa)"></div>
  </section>

  <!-- Moments collage -->
  <section class="section" aria-labelledby="momentsTitle">
    <h3 id="momentsTitle">Nuestros hermosos momentos</h3>
    <p style="text-align:center;color:#345">"Tu amor es lo que he anhelado; y el regalo que Dios me ha dado"</p>
    <div class="collage">
      <img src="momento1.jpg" class="big" alt="momento1">
      <img src="momento2.jpg" alt="momento2">
      <img src="momento3.jpg" alt="momento3">
    </div>
  </section>

  <!-- Suggest songs -->
  <section class="section" aria-labelledby="songsTitle">
    <h3 id="songsTitle">Sugiérenos canciones</h3>
    <div style="text-align:center">
      <img src="momento4.jpg" alt="momento4" style="width:260px;border-radius:12px;margin-bottom:12px">
      <div class="song-form">
        <input id="songInput" type="text" placeholder="Escribe la canción y artista (ej. Eternamente - Tercer Cielo)">
        <button id="songSend" class="boton-audio" style="background:var(--celeste)">Enviar</button>
      </div>
      <div class="song-list" id="songList"></div>
    </div>
  </section>

  <!-- Share photos -->
  <section class="section" aria-labelledby="shareTitle">
    <h3 id="shareTitle">Comparte fotografías del evento</h3>
    <p style="text-align:center">Sube fotos que quieras compartir (vista previa local)</p>
    <div class="upload-row"><input id="photoUpload" type="file" accept="image/*" multiple></div>
    <div class="preview-grid" id="previewGrid" aria-live="polite"></div>
  </section>

  <!-- Confirm attendance -->
  <section class="section" aria-labelledby="confirmTitle">
    <h3 id="confirmTitle">Confirma tu asistencia</h3>
    <div class="whatsapp-row">
      <a class="wa-btn" href="https://wa.me/5217774914500" target="_blank" rel="noopener">Abril — +52 1 777 491 4500</a>
      <a class="wa-btn" href="https://wa.me/5217341123645" target="_blank" rel="noopener">Pablo — +52 1 734 112 3645</a>
    </div>
  </section>

  <!-- Thanks / Wishes -->
  <section class="section" aria-labelledby="thanksTitle">
    <h3 id="thanksTitle">Gracias por acompañarnos</h3>
    <div class="message-box" style="text-align:center">
      <textarea id="wishBox" placeholder="Escribe tus buenos deseos aqui..."></textarea>
      <div style="margin-top:10px"><button id="sendWish" class="boton-audio" style="background:var(--celeste)">Enviar deseo</button></div>
    </div>
    <div id="wishesList" style="max-width:800px;margin:14px auto;text-align:left"></div>
  </section>
</main>

<script>
/* ============ particles background (silver/blue) ============ */
particlesJS("particles-js", {
  particles: {
    number: { value: 140, density: { enable: true, value_area: 900 } },
    color: { value: ["#ffffff","#a3c1e5","#cfd8e3"] },
    shape: { type: "circle" },
    opacity: { value: 0.95, random: true },
    size: { value: 4, random: true },
    line_linked: { enable: false },
    move: { enable: true, speed: 2.3, random: true, out_mode: "out" }
  },
  interactivity: {
    detect_on: "canvas",
    events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: false } },
    modes: { repulse: { distance: 120 } }
  },
  retina_detect: true
});

/* ============ orbiting particles around gem ============ */
const orbit = document.getElementById('orbit');
const ORB_COUNT = 18; // number of orbiting tiny orbs
for(let i=0;i<ORB_COUNT;i++){
  const el = document.createElement('div');
  el.className = 'orb';
  // position in circle via transform: translate -> will be rotated by parent
  const angle = (360/ORB_COUNT)*i;
  const radius = 86; // px radius from center
  // compute coords
  const x = (radius * Math.cos(angle * Math.PI/180)) + 110; // offset to center of orbit container (half width)
  const y = (radius * Math.sin(angle * Math.PI/180)) + 110;
  el.style.left = x + 'px';
  el.style.top = y + 'px';
  el.style.transform = `translate(-50%,-50%) scale(${0.8 + Math.random()*0.8})`;
  orbit.appendChild(el);
}
// animate orbiting by rotating the orbit container continuously and changing speed slightly
let orbitAngle = 0;
function animateOrbit(){
  orbitAngle = (orbitAngle + 0.3) % 360;
  orbit.style.transform = `translate(-50%,-50%) rotate(${orbitAngle}deg)`;
  requestAnimationFrame(animateOrbit);
}
requestAnimationFrame(animateOrbit);

/* subtle random twinkle on orbs */
setInterval(()=>{
  const orbs = document.querySelectorAll('.orb');
  const idx = Math.floor(Math.random()*orbs.length);
  const o = orbs[idx];
  if(o){
    o.style.transition = 'transform 350ms ease, box-shadow 350ms ease';
    o.style.boxShadow = '0 0 12px rgba(255,255,255,0.95)';
    setTimeout(()=>{ o.style.boxShadow=''; }, 450);
  }
},700);

/* ============ ring click -> envelope -> pergamino -> show invite ============ */
const ring = document.getElementById('ring');
const ringPanel = document.getElementById('ringPanel');
const envelope = document.getElementById('envelope');
const envCard = document.getElementById('envCard');
const seal = document.getElementById('seal');
const pergamino = document.getElementById('pergamino');
const mainInvite = document.getElementById('mainInvite');
const audio = document.getElementById('audioPlayer');
const playBtn = document.getElementById('playBtn');

let opened=false, envelopeOpened=false;

function openEnvelopeFlow(){
  if(opened) return;
  opened=true;
  // stop ring animation and slightly enlarge
  ring.classList.add('stopped');
  // show envelope with gentle pop
  envelope.style.display='block';
  envelope.setAttribute('aria-hidden','false');
  // slight transform on envelope for pop feel
  envCard.style.transform='scale(.98) translateY(0)';
  // scroll a bit so envelope is centered (mobile)
  setTimeout(()=> window.scrollTo({top: document.body.scrollHeight*0.05, behavior:'smooth'}),100);
  // optionally hide CTA area once envelope in view
  // keep ring visible until envelope opened for UX; later we hide.
}

/* when user clicks seal -> open env -> show pergamino -> reveal main invite + play audio */
function openSeal(){
  if(envelopeOpened) return;
  envelopeOpened=true;
  // animate envelope open
  envCard.classList.add('open');
  // small rotate & translate for dramatic reveal
  envCard.style.transform='translateY(-24px) rotateX(12deg) scale(0.98)';
  // after short delay show pergamino
  setTimeout(()=>{
    pergamino.style.display='block';
    pergamino.setAttribute('aria-hidden','false');
    // play audio (user gesture)
    audio.play().catch(()=>{});
    playBtn.textContent='⏸ Pausar música';
    // show main invitation after small pause
    setTimeout(()=>{
      mainInvite.style.display='block';
      mainInvite.setAttribute('aria-hidden','false');
      // hide ringPanel to focus on content
      document.getElementById('ringPanel').style.display='none';
      // scroll to pergamino
      window.scrollTo({top: pergamino.offsetTop - 20, behavior:'smooth'});
    },900);
  },700);
}

/* event listeners */
ring.addEventListener('click', openEnvelopeFlow);
ring.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') openEnvelopeFlow(); });
seal.addEventListener('click', openSeal);
seal.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') openSeal(); });

/* play/pause button */
playBtn.addEventListener('click', ()=>{
  if(audio.paused){ audio.play(); playBtn.textContent='⏸ Pausar música'; }
  else{ audio.pause(); playBtn.textContent='▶️ Reproducir música'; }
});
audio.addEventListener('ended', ()=> playBtn.textContent='▶️ Reproducir música');

/* ============ Countdown ============ */
const countdownEl = document.getElementById('countdown');
const weddingTime = new Date('December 28, 2025 14:00:00').getTime();
function updateCountdown(){
  const now = Date.now(); const diff = weddingTime - now;
  if(diff <= 0){ countdownEl.textContent = '¡Hoy es nuestra boda!'; clearInterval(intv); return; }
  const days = Math.floor(diff/(1000*60*60*24));
  const hours = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const minutes = Math.floor((diff%(1000*60*60))/(1000*60));
  const seconds = Math.floor((diff%(1000*60))/1000);
  countdownEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
}
updateCountdown(); const intv = setInterval(updateCountdown,1000);

/* ============ Song suggestions ============ */
const songInput = document.getElementById('songInput');
const songSend = document.getElementById('songSend');
const songList = document.getElementById('songList');
let songs = [];
if(songSend){ songSend.addEventListener('click', ()=>{
  const v = songInput.value.trim(); if(!v) return alert('Escribe la canción y artista.');
  songs.unshift(v); songInput.value=''; renderSongs();
});}
function renderSongs(){ if(!songList) return; songList.innerHTML = songs.map(s=>`<div style="padding:8px 10px;border-bottom:1px dashed #e6eefc">${s}</div>`).join(''); }

/* ============ Photo upload preview (client side) ============ */
const photoUpload = document.getElementById('photoUpload');
const previewGrid = document.getElementById('previewGrid');
if(photoUpload){ photoUpload.addEventListener('change', (e)=>{
  const files = Array.from(e.target.files).slice(0,12);
  previewGrid.innerHTML = '';
  files.forEach(file=>{
    if(!file.type.startsWith('image/')) return;
    const r = new FileReader();
    r.onload = ev => {
      const img = document.createElement('img');
      img.src = ev.target.result;
      previewGrid.appendChild(img);
    };
    r.readAsDataURL(file);
  });
});}

/* ============ Wishes list (client-side) ============ */
const sendWish = document.getElementById('sendWish');
const wishBox = document.getElementById('wishBox');
const wishesList = document.getElementById('wishesList');
if(sendWish){ sendWish.addEventListener('click', ()=>{
  const text = wishBox.value.trim(); if(!text) return alert('Escribe tu mensaje antes de enviar.');
  const p = document.createElement('p'); p.style.padding='8px 12px'; p.style.background='linear-gradient(90deg,#f8fbff,#eef6ff)'; p.style.borderRadius='8px'; p.style.margin='8px 0'; p.textContent=text; wishesList.prepend(p); wishBox.value='';
});}

/* Accessibility: hide ring panel when main invite visible (already handled) */

</script>
</body>
</html>
 
